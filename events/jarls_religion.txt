###################################
# Jarls of India - Religious Events
# Written by Riso, Blarghalt
###################################
namespace = jarls_religion


jarls_religion.100 = {
	type = character_event
	title = jarls_religion.100.t
	desc = jarls_religion.100.desc
	theme = faith
	left_portrait = {
		character = root
		animation = personality_rational
	}

	option = {
		name = jarls_religion.100.odin
		trigger = {
			NOT = { has_character_modifier = bhakti_hindu_germanic_odin }
		}
		set_bhakti_effect = { BHAKTI = bhakti_hindu_germanic_odin }
	}

	option = {
		name = jarls_religion.100.thor
		trigger = {
			NOT = { has_character_modifier = bhakti_hindu_germanic_thor }
		}
		set_bhakti_effect = { BHAKTI = bhakti_hindu_germanic_thor }
	}

	option = {
		name = jarls_religion.100.freyr
		trigger = {
			NOT = { has_character_modifier = bhakti_hindu_germanic_freyr }
		}
		set_bhakti_effect = { BHAKTI = bhakti_hindu_germanic_freyr }
	}

	option = {
		name = jarls_religion.100.freyja
		trigger = {
			NOT = { has_character_modifier = bhakti_hindu_germanic_freyja }
		}
		set_bhakti_effect = { BHAKTI = bhakti_hindu_germanic_freyja }
	}

	option = {
		name = jarls_religion.100.njord
		trigger = {
			NOT = { has_character_modifier = bhakti_hindu_germanic_njord }
		}
		set_bhakti_effect = { BHAKTI = bhakti_hindu_germanic_njord }
	}

	option = {
		name = religious_decision.0102.optout
		flavor = religious_decision.0102.flavor

		ai_chance = {
			base = 0
		}		
	}
}


#Convert to Hindu-Germanic, based on mongols
jarls_religion.1 = {
	title = EVTNAME_jarls_religion.1n
	desc = EVTDESC_jarls_religion.1n
	
	theme = faith
	
	trigger = {
		NOT = { has_global_variable = hindu_germanic_converts }

		is_independent_ruler = yes
		is_incapable = no
		age >= 16
		
		primary_title = {
			holder = {
				NOT = { has_trait = zealous }
				OR = {
					has_religion = religion:germanic_religion
					has_religion = religion:hindu_germanic_religion
				}
				OR = {
					has_culture = culture:norse
					has_culture = culture:indo_norse
					has_culture = culture:dravidian_norse
				}
			}
		}

		
		OR = {
			primary_title = title:k_sindh
			primary_title = title:k_punjab
			primary_title = title:k_delhi
			primary_title = title:k_gujarat
			primary_title = title:k_rajputana
			primary_title = title:k_malwa
			primary_title = title:k_kosala
			primary_title = title:k_himalaya
			primary_title = title:k_kashmir
			primary_title = title:k_bengal
			primary_title = title:k_kamarupa
			primary_title = title:k_orissa
			primary_title = title:k_gondwana
			primary_title = title:k_bihar
			primary_title = title:k_pagan
			primary_title = title:k_maharastra
			primary_title = title:k_karnata
			primary_title = title:k_tamilakam
			primary_title = title:k_andhra
			primary_title = title:k_telingana
			primary_title = title:k_lanka
			primary_title = title:e_rajastan
			primary_title = title:e_bengal
			primary_title = title:e_deccan
			primary_title = title:e_india
		}

		any_realm_province = {
			#has_religion = religion:hindu
			religion = religion:hinduism_religion
		}
	}
	
	immediate = {
		set_global_variable = {
			name = hindu_germanic_converts
			value = true
		}
		add_character_flag = {
			flag = converts_hindu_germanic
		}
	}

	option = {
		name = "EVTOPTA_jarls_religion.1"
		set_character_faith_with_conversion = faith:hindu_germanic
	}
	option = {
		name = "EVTOPTA_jarls_religion.2"
	}
}